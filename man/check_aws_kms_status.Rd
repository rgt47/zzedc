% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aws_kms_utils.R
\name{check_aws_kms_status}
\alias{check_aws_kms_status}
\title{Check AWS KMS Status and Permissions}
\usage{
check_aws_kms_status()
}
\value{
List with detailed AWS KMS status:
\itemize{
\item configured: Logical TRUE if fully configured
\item region: AWS region being used
\item credentials_available: Logical TRUE if AWS credentials found
\item sts_identity: AWS caller identity (account, user/role, ARN)
\item secret_manager_access: Logical TRUE if can reach Secrets Manager
\item default_secret_exists: Logical TRUE if "zzedc/db-encryption-key" exists
\item permissions: List with individual permission test results
\item recommendations: Character vector of setup recommendations
\item errors: Character vector of any errors encountered
\item status_message: Human-readable overall status
}
}
\description{
Provides comprehensive diagnostic information about AWS KMS setup, credentials,
region configuration, and IAM permissions. Useful for troubleshooting setup issues.
}
\details{
Performs comprehensive AWS KMS diagnostic checks:
\enumerate{
\item Credentials: Checks if AWS credentials are available and valid
\item Region: Detects AWS region from environment or config
\item Identity: Retrieves AWS caller identity (account, user/role)
\item Connectivity: Tests connection to Secrets Manager
\item Secret: Checks if default secret exists
\item Permissions: Tests each required IAM permission
\item Recommendations: Suggests fixes for any issues found
}
}
\examples{
\dontrun{
  status <- check_aws_kms_status()

  if (status$configured) {
    cat("AWS KMS fully configured\n")
  } else {
    cat("Issues found:\n")
    cat("Errors:", status$errors, "\n")
  }
}

}
