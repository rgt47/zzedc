% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/secure_export.R
\name{export_encrypted_data}
\alias{export_encrypted_data}
\title{Export Encrypted Data with Integrity Verification}
\usage{
export_encrypted_data(
  query,
  format = "csv",
  password = NULL,
  include_hash = TRUE,
  export_dir = "./exports"
)
}
\arguments{
\item{query}{Character: SQL SELECT query to export}

\item{format}{Character: Output format ("csv", "xlsx", "json", default: "csv")}

\item{password}{Character: Optional password for additional encryption}

\item{include_hash}{Logical: Add SHA-256 hash file? (default: TRUE)}

\item{export_dir}{Character: Directory for exports (default: "./exports")}
}
\value{
Character string with path to exported file
}
\description{
Exports query results to multiple formats with cryptographic integrity hashing.
}
\details{
This function:
\enumerate{
\item Connects to encrypted database
\item Executes provided SQL query
\item Generates SHA-256 hash of export content
\item Exports to requested format (CSV, XLSX, JSON)
\item Stores hash in separate verification file
\item Logs export to audit trail
\item Returns file path
}

Formats:
\itemize{
\item csv: Comma-separated values (default)
\item xlsx: Microsoft Excel workbook
\item json: JSON array format
}

Hash files (.sha256) enable verification using verify_exported_data()
}
\examples{
\dontrun{
  # Export all subjects
  file_path <- export_encrypted_data(
    query = "SELECT * FROM subjects",
    format = "csv"
  )

  # Export with password protection
  file_path <- export_encrypted_data(
    query = "SELECT * FROM mmse_assessments WHERE visit_label = 'Baseline'",
    format = "xlsx",
    password = "secure_password"
  )
}

}
