################################################################################
# ZZedc Development Environment Configuration
#
# Instructions:
#   1. Copy this file: cp .env.dev.example .env.dev
#   2. Edit .env.dev with your values
#   3. Start application: docker-compose -f docker-compose.dev.yml up
#
# For production deployment, use .env instead of .env.dev
################################################################################

################################################################################
# Study Configuration (Local Development)
################################################################################

# Study name (can be anything for development)
STUDY_NAME=Local Development Trial

# Study protocol ID (can be anything for development)
STUDY_ID=DEV-2025-001

# Principal Investigator email (can be any email for development)
PI_EMAIL=researcher@institution.edu

# Target enrollment (can be any number for development)
TARGET_ENROLLMENT=50

# Study phase (Pilot, Phase1, Phase2, Phase3)
PHASE=Pilot

################################################################################
# Administrator Account Configuration
################################################################################

# Admin username (default is "admin")
ADMIN_USERNAME=admin

# Admin full name
ADMIN_FULLNAME=Development Administrator

# Admin email
ADMIN_EMAIL=admin@localhost

# Admin password (minimum 8 characters)
# For development, a simple password is fine
# Example: development123
# For testing, you might use: test123
# IMPORTANT: Change this before any real data entry
ADMIN_PASSWORD=development123

################################################################################
# Security Configuration
################################################################################

# Security salt - Random 32-character string for password hashing
# For development, any random value works
# Generate with: openssl rand -hex 16
# Default development value (NOT for production!):
ZZEDC_SALT=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6

# Session timeout in minutes (development: can be higher)
SESSION_TIMEOUT_MINUTES=120

# Enforce HTTPS (development: typically false for localhost)
ENFORCE_HTTPS=false

# Maximum failed login attempts before lockout
MAX_FAILED_LOGIN_ATTEMPTS=5

################################################################################
# Logging Configuration
################################################################################

# Log level (debug, info, warning, error)
# For development, use 'debug' for detailed output
LOG_LEVEL=debug

# (Optional) R package configuration
# Usually not needed for development
# R_DEFAULT_PACKAGES=base,methods,datasets,utils,grDevices,graphics,stats

################################################################################
# Database Configuration
################################################################################

# Database type (sqlite for development)
DB_TYPE=sqlite

# Database path (relative to /app/data/)
DB_PATH=/app/data/zzedc.db

# Database connection pool size
POOL_SIZE=5

################################################################################
# Compliance Configuration (Development)
################################################################################

# GDPR compliance mode (false for development)
GDPR_ENABLED=false

# 21 CFR Part 11 compliance (false for development)
CFR_PART11_ENABLED=false

# Audit logging (true for testing audit features)
AUDIT_LOGGING_ENABLED=true

################################################################################
# Application Configuration
################################################################################

# Application title (shown in browser tab and header)
APP_TITLE=ZZedc - Local Development

# Application subtitle
APP_SUBTITLE=Development Mode - Local Testing Only

# Enable demo data (helpful for testing)
DEMO_DATA_ENABLED=true

################################################################################
# Development-Specific Settings
################################################################################

# Show debug info in UI
SHOW_DEBUG_INFO=true

# Allow test users to be created via UI
ALLOW_TEST_USER_CREATION=true

# Skip some validation for faster testing
SKIP_VALIDATION=false

# Mock external services (if applicable)
MOCK_SERVICES=true

################################################################################
# Quick Start
################################################################################

# After configuring this file:
#
# 1. Build and start the application:
#    docker-compose -f docker-compose.dev.yml build
#    docker-compose -f docker-compose.dev.yml up
#
# 2. Open your browser:
#    http://localhost:3838
#
# 3. Login with:
#    Username: admin
#    Password: development123
#
# 4. View logs in real-time:
#    docker-compose -f docker-compose.dev.yml logs -f
#
# 5. Stop the application:
#    docker-compose -f docker-compose.dev.yml down
#
# The application data persists in ./data/zzedc.db

################################################################################
# Important Notes
################################################################################

# Development vs. Production:
#   - This .env.dev is for LOCAL testing only
#   - For AWS deployment, use .env with production values
#   - Never use development passwords in production
#   - Never use the example ZZEDC_SALT in production
#
# Database:
#   - SQLite database file: ./data/zzedc.db
#   - Survives container restart: YES
#   - Can be edited directly: YES (when app stopped)
#   - Backup: Copy ./data/zzedc.db to safe location
#
# Logs:
#   - Application logs: ./logs/
#   - Docker logs: docker-compose logs -f
#   - Debug info visible in application UI
#
# Testing:
#   - Create test data freely (not permanent)
#   - Test all features and workflows
#   - Check form validation
#   - Verify data persistence
#   - Test export/import functions
#
# Troubleshooting:
#   - Check logs: docker-compose logs -f zzedc
#   - Verify ports: netstat -an | grep 3838
#   - Check file permissions: ls -la data/ logs/
#   - See LOCAL_DEVELOPMENT_TROUBLESHOOTING.md

################################################################################
# Development Workflow Suggestions
################################################################################

# Day 1: Initial Setup
#   1. Copy this file to .env.dev
#   2. Edit values (study name, password, etc.)
#   3. Start application
#   4. Login and verify access
#   5. Create a test user account
#   6. Create a test form
#
# Day 2+: Feature Testing
#   1. Create test participants
#   2. Test data entry forms
#   3. Verify validation rules
#   4. Test export/reporting
#   5. Check audit logs
#
# Before Production:
#   1. Create new study configuration (.env)
#   2. Use strong production passwords
#   3. Generate unique ZZEDC_SALT
#   4. Use production docker-compose.yml
#   5. Deploy to AWS using aws_setup.sh
#
# Continuous Development:
#   1. Stop containers: docker-compose down
#   2. Make code changes in R/, ui.R, server.R
#   3. Rebuild: docker-compose build
#   4. Start: docker-compose up
#   5. Test changes immediately
#
################################################################################
